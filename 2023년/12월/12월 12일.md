# TIL

- 필터 그래프 편집 프로그램

1. GraphEdit, GraphEditPlus

- 컴퓨터에 설치된 DirectShow 필터들의 연결 상태 등을 보여주는 프로그램
- 연결된 필터들을 제거하거나 추가해서 필터 그래프를 편집할 수도 있고 필터 그래프를 .grf 파일로 저장하면 DirectShowSource를 통해서 Avisynth에서 사용할 수도 있습니다.


- 각각의 필터는 네모난 상자로 표시되는데 왼쪽, 오른쪽에 인풋, 아웃풋에 해당하는 핀이 달려있습니다. 
핀들 사이의 화살표를 통해서 여러가지 필터들이 어떻게 연결되는지 쉽게 파악할 수 있음.
test.mkv 파일을 열어서 비디오와 오디오 스트림을 분리한 뒤 비디오는 CoreAVC Video Decoder 필터에,오디오는 Microsoft DTV-DVD Audio Decoder 필터에 보내주고 있습니다.
비디오와 오디오 스트림을 디코딩해서 각각 비디오 렌더러와 오디오 렌더러에 다시 넘겨주고 있죠.
이 상태에서 화면 상단 메뉴의 녹색 재생 버튼을 클릭하면 실제 동영상의 재생도 가능합니다.

- 이러한 일련의 과정을 시각화로 보여주는 프로그램 -


출처: https://ligel.tistory.com/41 [동영상 인코딩 블로그:티스토리]


2. 동영상

- 코덱 : 인코더와 디코더를 총칭하는 말. 
- 오디오나 비디오를 특정한 형식(avi나 mp3 등)으로 압축하는 것이 인코더, 이렇게 만들어진 동영상을 볼 수 있도록 해주는 것을 디코더.

- 어떤 데이터가 필터를 통과하면 그 필터의 기능에 따라 데이터가 변하게 됨.

-- 동영상이 재생될 때의 기본적인 재생 구조 --

- 소스 필터 -> 스플리터 -> 비디오/오디오 디코더 -> 비디오/오디오 처리 필터 -> 비디오/오디오 렌더러

- 소스필터 : 특정한 형식의 파일을 여는데 사용
- 스플리터 : 소스필터로 열린 파일은 스플리터에 연결이 되는데 일반적으로 스플리터는 비디오와 오디오 데이터 스트림으로 구분해서 출력해 주는 역할을 한다. 소스필터와 스플리터는 대게 분리된 필터이지만 단일필터가 이 두가지 역할을 하는 경우도 있다.
- 디코더 : 스플리터에서 분리된 비디오/오디오 스트림들은 각각 비디오/오디오 디코더에 연결이 되며 디코더를 거치면 마치 압축파일에서 압축을 해제한 것과 같은 상태가 된다.
디코더에서 압축이 풀린 비디오/오디오 신호들은 각각 비디오/오디오 렌더러를 통해 우리가 보고 들을 수 있는 형태로 번역된다.
- 비디오/오디오 처리필터 : KMP는 디코더와 렌더러 사이에 각각 비디오/오디오 처리필터를 끼워넣어서 비디오나 사운드의 고급처리를 해주고 있다. 
ex) 각종 영상 처리와 죠그셔틀, 이퀄라이져, 자동볼륨조절 등의 음성 처리를 변환필터내에서 처리해준다.
- 렌더러 : 디코딩되고 처리되어진 비디오/오디오 신호들을 우리가 보고 들을 수 있도록 해준다.

출처 : https://m.blog.naver.com/kalum241/70091988346